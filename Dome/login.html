<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta charset="UTF-8">
		<title>登录</title>
		<link rel="stylesheet" type="text/css" href="css/common.css"/>
		<link rel="stylesheet" type="text/css" href="css/common_title.css"/>
		<link rel="stylesheet" type="text/css" href="css/login.css"/>
		<script src="js/jquery-3.3.1/jquery-3.3.1.js"></script>
		<script src="js/jquery-3.3.1/jquery-3.3.1.min.js"></script>
	</head>
	<body>
	    <!--顶部内容-->
		<div class="title">
			<div class="title_box">
				<div class="title_box_user">亲，您还没有登录哟,请登录</div>
				<ul>
					<li class="fl">
						<div class="myaccount">
							<img class="title_box_img" src="img/icon/account.png"/>
							我的账户
							<div class="title_box_line"></div>
						</div>
					</li>
					<li class="fl">
						<div class="myaccount">
							<img class="title_box_img" src="img/icon/service_white.png"/>
							联系客服
							<div class="title_box_line"></div>
						</div>
					</li>
					<li class="fl">
						<div class="myaccount">
							<img class="title_box_img2" src="img/icon/news_white.png"/>
						        消息
						</div>
					</li>
					<li class="fc"></li>
				</ul>
			</div>
		</div>
		<div class="max_box">
			<!--logo-->
			<div class="box_logo">
				<img class="img_logo01" src="img/logo.jpg"/>
				<img class="img_logo02" src="img/logo2.png"/>
			</div>
			<div class="login_content">
				<div class="login_box">
					<p class="login_title">Login</p>
					<p class="login_text01">欢迎您，请输入以下内容继续</p>
					<p class="login_text01">如果您之前已登录过我们，请<a href="#">单击此处</a></p>
					<form action="" method="">
						<div class="login_user login_row">
							<div class="login_row_title">用户名：</div>
							<div class="login_row_line"></div>
							<input type="text" id="userName" name="userName" placeholder="请输入用户名" class="login_input" />
						</div>
						<div class="login_pwd login_row">
							<div class="login_row_title">用户密码：</div>
							<div class="login_row_line"></div>
							<input type="password" id="userPassWord" name="userPassword" placeholder="请输入密码" class="login_input" />
						</div>
						<div class="login_verification login_row">
							<div class="login_row_title">验证码：</div>
							<div class="login_row_line"></div>
							<input type="text" id="verification" placeholder="请输入验证码" />
							<!--<canvas id="verification_box"></canvas>-->
							<div id="verification_box">
								<img id="images" alt="" />
							</div>
						</div>
						<div class="login">登录</div>
						<a href="#" class="login_txt02">使用手机登录</a>
						<a href="#" class="login_txt02">忘记密码？</a>
					</form>
				</div>
				<div class="register_box">
					<p class="login_title">Register</p>
					<p class="login_text01">通过在我们的商店中创建帐户，您可以更快地完成结帐流程，
存储多个送货地址，查看和跟踪您帐户中的订单等。</p>
                    <div class="register_submit">
                    	<a href="#">注册新用户</a>
                    </div>
				</div>
			</div>
		</div>
		
		<!--页脚-->
		<div class="footer">
				<div class="footer_content">
					<!--关于我们-->
					<ul class="ul_about">
						<li class="ul_li_title">关于我们</li>
						<li class="ul_about_content">
							Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean euismod bibendum laoreet. Proin gravida dolor sit amet lacus accumsan et viverra justo commodo. Proin sodales pulvinar tempor. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Nam fermentum, nulla luctus pharetra vulputate, felis tellus mollis orci, sed rhoncus sapien nunc eget.
						</li>
					</ul>
					<!--服务中心-->
					<ul class="ul_service">
						<li class="ul_li_title">服务中心</li>
						<li class="ul_li_row">关于我们</li>
						<li class="ul_li_row">配送信息</li>
						<li class="ul_li_row">联系客服</li>
						<li class="ul_li_row">隐私政策</li>
						<li class="ul_li_row">服务条款</li>
					</ul>
					<ul class="ul_personal">
						<li class="ul_li_title">个人中心</li>
						<li class="ul_li_row">我的账户</li>
						<li class="ul_li_row">购物所有清单</li>
						<li class="ul_li_row">购物车</li>
					</ul>
					<ul class="ul_more">
						<li class="ul_li_title">更多</li>
						<li class="ul_li_row">品牌</li>
						<li class="ul_li_row">合作公司</li>
						<li class="ul_li_row">隐私政策</li>
						<li class="ul_li_row">法规政策</li>
					</ul>
				</div>
		</div>
		
		<script src="js/login.js"></script>
		<script>
//			var url = "http://localhost:8080/Itsoure/";
//	    	
//	    	$.ajax({
//		   		type:"post",
//		   		url:url+"LoginVerificAtion",
//		   		dataType:"text",
//		   		async:true,
//		   		error:function(data){
//		   			alert("显示错误");
//		   		},
//		   		success:function(data){
//	//	   			alert("ok");
//	                var show_num = [];
//				    $(function () {
//				        draw(show_num);//加载验证码
//				 
//				        //看不清楚重新获取验证码
//				        $("#verification_box").on('click', function () {
//				            draw(show_num);
//				        })
//				    })
//				 
//				    function draw(show_num) {
//				        var canvas_width = $('#verification_box').width();
//				        var canvas_height = $('#verification_box').height();
//				        var canvas = document.getElementById("verification_box");//获取到canvas的对象，演员
//				        var context = canvas.getContext("2d");//获取到canvas画图的环境，演员表演的舞台
//				        canvas.width = canvas_width;
//				        canvas.height = canvas_height;
//				        var aCode = data;
//				        var aLength = aCode.length;//获取到数组的长度
//				 
//				        
//			            var deg = Math.random() * 10 * Math.PI / 180;//产生0~10之间的随机弧度
//			            var txt = aCode;//得到随机的一个内容
//			            show_num = txt.toLowerCase();
//			            context.font = "bold 23px 微软雅黑";
//			            context.translate(0, 0);
//			            context.rotate(deg);
//			            context.fillStyle = randomColor();
//			            context.fillText(txt, 20, 20);
//			            context.rotate(-deg);
//				        
//				        for (var i = 0; i <= 4; i++) { //验证码上显示线条
//				            context.strokeStyle = randomColor();
//				            context.beginPath();
//				            context.moveTo(Math.random() * canvas_width, Math.random() * canvas_height);
//				            context.lineTo(Math.random() * canvas_width, Math.random() * canvas_height);
//				            context.stroke();
//				        }
//				        for (var i = 0; i <= 30; i++) { //验证码上显示小点
//				            context.strokeStyle = randomColor();
//				            context.beginPath();
//				            var x = Math.random() * canvas_width;
//				            var y = Math.random() * canvas_height;
//				            context.moveTo(x, y);
//				            context.lineTo(x + 1, y + 1);
//				            context.stroke();
//				        }
//				    }
//				 
//				    function randomColor() {//得到随机的颜色值
//				        var r = Math.floor(Math.random() * 256);
//				        var g = Math.floor(Math.random() * 256);
//				        var b = Math.floor(Math.random() * 256);
//				        return "rgb(" + r + "," + g + "," + b + ")";
//				    }
//				 
//				 
//				 }
//		   	});


        
        window.onload=function(){
		var url = "http://localhost:8080/Itsoure/";
		    	
		    	$.ajax({
			   		type:"post",
			   		url:url+"LoginVerificAtion",
			   		dataType:"text",
			   		async:true,
			   		error:function(data){
			   			alert("显示错误");
			   			
			   		},
			   		success:function(data){
			   			$("#verification_box").append("<img src='"+url+"LoginVerificAtion"+"'/>")
	//                  console.log(data);
		           }
			   	});
	}
		</script>
	</body>
</html>
